<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements.  See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership.  The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License.  You may obtain a copy of the License at
  
  http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied.  See the License for the
  specific language governing permissions and limitations
  under the License.
-->
<!--+
  | @version $Id$
  |
  +-->
<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/POM/4.0.0"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.apache.excalibur</groupId>
  <artifactId>excalibur</artifactId>
  <version>2.2-SNAPSHOT</version>
  <name>Excalibur</name>
  <packaging>pom</packaging>
  <modules>
    <module>containerkit</module>
    <module>framework</module>
    <module>components</module>
    <module>fortress</module>
    <module>deprecated</module>
    <module>cornerstone</module>
  </modules>
  <properties>
    <org.apache.excalibur.components.version>2.2-SNAPSHOT</org.apache.excalibur.components.version>
    <org.apache.excalibur.deprecated.version>2.2-SNAPSHOT</org.apache.excalibur.deprecated.version>
    <org.apache.excalibur.containerkit.version>2.2-SNAPSHOT</org.apache.excalibur.containerkit.version>
    <org.apache.avalon.framework.version>4.4-SNAPSHOT</org.apache.avalon.framework.version>
    <org.apache.avalon.cornerstone.version>2.2-SNAPSHOT</org.apache.avalon.cornerstone.version>
    <org.apache.excalibur.fortress.version>1.3-SNAPSHOT</org.apache.excalibur.fortress.version>
  </properties>
  <repositories>
    <repository>
      <id>maven-snapshot</id>
      <name>Maven Snapshot Repository</name>
      <url>http://snapshots.maven.codehaus.org/maven2</url>
      <releases>
        <enabled>false</enabled>
      </releases>
      <snapshots>
        <enabled>true</enabled>
      </snapshots>
    </repository>
    <repository>
      <id>apache-maven-snapshot</id>
      <name>Maven Snapshot Repository @ Apache.org</name>
      <url>http://cvs.apache.org/maven-snapshot-repository</url>
      <releases>
        <enabled>false</enabled>
      </releases>
      <snapshots>
        <enabled>true</enabled>
      </snapshots>
    </repository>
    <repository>
      <id>apache-cvs</id>
      <name>Apache CVS Repository</name>
      <url>http://cvs.apache.org/repository</url>
      <layout>legacy</layout>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
      </releases>
      <snapshots>
        <enabled>false</enabled>
        <updatePolicy>never</updatePolicy>
      </snapshots>
    </repository>
    <repository>
      <id>d-haven</id>
      <name>D-Haven.org repository</name>
      <url>http://dist.d-haven.org</url>
      <layout>legacy</layout>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
      </releases>
      <snapshots>
        <enabled>false</enabled>
        <updatePolicy>never</updatePolicy>
      </snapshots>
    </repository>
  </repositories>
  <scm>
    <connection>scm:svn:http://svn.apache.org/repos/asf/excalibur/trunk/</connection>
    <url>http://svn.apache.org/viewcvs.cgi/excalibur/trunk</url>
  </scm>
  <distributionManagement>
    <repository>
      <id>apache-maven-snapshot</id>
      <name>repository</name>
      <url>scpexe://cvs.apache.org/x1/www/cvs.apache.org/maven-snapshot-repository</url>
    </repository>
    <snapshotRepository>
      <id>apache-maven-snapshot</id>
      <name>repository</name>
      <url>scpexe://cvs.apache.org/x1/www/cvs.apache.org/maven-snapshot-repository</url>
    </snapshotRepository>
  </distributionManagement>
  <build>
    <sourceDirectory>src/java</sourceDirectory>
    <testSourceDirectory>src/test</testSourceDirectory>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.3</source>
          <target>1.3</target>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-source-plugin</artifactId>
        <configuration>
          <attach>true</attach>
        </configuration>
        <executions>
          <execution>
            <goals>
              <goal>jar</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-antrun-plugin</artifactId>
        <executions>
          <execution>
            <id>copy-resources</id>
            <phase>process-resources</phase>
            <configuration>
              <tasks>
                <copy todir="${project.build.directory}/classes/META-INF" failonerror="false"
                  verbose="false">
                  <fileset dir="${basedir}">
                    <include name="LICENSE.txt" />
                    <include name="NOTICE.txt" />
                  </fileset>
                </copy>
                <copy todir="${project.build.directory}/classes" failonerror="false" verbose="false">
                  <fileset dir="${basedir}/src/java">
                    <include name="**/*.xtest" />
                    <include name="**/*.roles" />
                    <include name="**/*.xconf" />
                    <include name="**/*.xlog" />
                  </fileset>
                </copy>
              </tasks>
            </configuration>
            <goals>
              <goal>run</goal>
            </goals>
          </execution>
          <execution>
            <id>copy-test-resources</id>
            <phase>process-test-resources</phase>
            <configuration>
              <tasks>
                <copy todir="${project.build.directory}/test-classes" failonerror="false" verbose="false">
                  <fileset dir="${basedir}/src/test">
                    <include name="**/*.xtest" />
                    <include name="**/*.roles" />
                    <include name="**/*.xconf" />
                    <include name="**/*.xlog" />
                    <include name="**/*.properties" />
                  </fileset>
                </copy>
              </tasks>
            </configuration>
            <goals>
              <goal>run</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-eclipse-plugin</artifactId>
        <configuration>
          <!--
            This will avoid Maven and Eclipse sharing each-others generated classes
            since they use different compilers. 
            Make sure to ignore eclipse-classes for SCM checkin/diff in Eclipse: 
            Window->Preferences->Team->Ignored Resources
          -->
          <buildOutputDirectory>${basedir}/eclipse-classes</buildOutputDirectory>
          <wtpversion>1.0</wtpversion>
          <useProjectReferences>false</useProjectReferences>
          <downloadSources>true</downloadSources>
          <buildcommands>
            <buildcommand>org.eclipse.jdt.core.javabuilder</buildcommand>
          </buildcommands>
          <!--
            <projectnatures>
            <projectnature>org.eclipse.jdt.core.javanature</projectnature>
            </projectnatures>
          -->
        </configuration>
        <executions>
          <execution>
            <goals>
              <goal>eclipse</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>ant</groupId>
        <artifactId>ant</artifactId>
        <version>1.6.2</version>
      </dependency>
      <dependency>
        <artifactId>bcel</artifactId>
        <groupId>bcel</groupId>
        <version>5.1</version>
      </dependency>
      <dependency>
        <groupId>commons-beanutils</groupId>
        <artifactId>commons-beanutils</artifactId>
        <version>1.7.0</version>
      </dependency>
      <dependency>
        <groupId>commons-collections</groupId>
        <artifactId>commons-collections</artifactId>
        <version>3.1</version>
      </dependency>
      <dependency>
        <groupId>commons-logging</groupId>
        <artifactId>commons-logging</artifactId>
        <version>1.0.4</version>
      </dependency>
      <dependency>
        <groupId>commons-vfs</groupId>
        <artifactId>commons-vfs</artifactId>
        <version>20050307052300</version>
      </dependency>
      <dependency>
        <groupId>commons-httpclient</groupId>
        <artifactId>commons-httpclient</artifactId>
        <version>2.0.2</version>
      </dependency>
      <dependency>
        <groupId>concurrent</groupId>
        <artifactId>concurrent</artifactId>
        <version>1.3.4</version>
      </dependency>
      <dependency>
        <groupId>d-haven-event</groupId>
        <artifactId>d-haven-event</artifactId>
        <version>1.0.3</version>
      </dependency>
      <dependency>
        <groupId>d-haven-mpool</groupId>
        <artifactId>managed-pool</artifactId>
        <version>1.0</version>
      </dependency>
      <dependency>
        <groupId>generama</groupId>
        <artifactId>qdox</artifactId>
        <version>20051211.114207</version>
      </dependency>
      <dependency>
        <groupId>geronimo-spec</groupId>
        <artifactId>geronimo-spec-javamail</artifactId>
        <version>1.3.1-rc3</version>
      </dependency>
      <dependency>
        <groupId>geronimo-spec</groupId>
        <artifactId>geronimo-spec-jms</artifactId>
        <version>1.1-rc4</version>
      </dependency>
      <dependency>
        <groupId>hsqldb</groupId>
        <artifactId>hsqldb</artifactId>
        <version>1.8.0.1</version>
      </dependency>
      <dependency>
        <groupId>jaxen</groupId>
        <artifactId>jaxen</artifactId>
        <version>1.0-FCS</version>
      </dependency>
      <dependency>
        <groupId>jisp</groupId>
        <artifactId>jisp</artifactId>
        <version>2.5.1</version>
      </dependency>
      <dependency>
        <artifactId>jmock</artifactId>
        <groupId>jmock</groupId>
        <version>1.0.1</version>
      </dependency>
      <dependency>
        <groupId>jtidy</groupId>
        <artifactId>jtidy</artifactId>
        <version>4aug2000r7-dev</version>
      </dependency>
      <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>3.8.1</version>
      </dependency>
      <dependency>
        <groupId>junitperf</groupId>
        <artifactId>junitperf</artifactId>
        <version>1.8</version>
      </dependency>
      <dependency>
        <artifactId>log4j</artifactId>
        <groupId>log4j</groupId>
        <version>1.2.11</version>
      </dependency>
      <dependency>
        <artifactId>saxon</artifactId>
        <groupId>saxon</groupId>
        <version>6.5.3</version>
      </dependency>
      <dependency>
        <artifactId>saxon</artifactId>
        <groupId>saxon7</groupId>
        <version>7.9.1</version>
      </dependency>
      <dependency>
        <groupId>saxpath</groupId>
        <artifactId>saxpath</artifactId>
        <version>1.0-FCS</version>
      </dependency>
      <dependency>
        <artifactId>servlet-api</artifactId>
        <groupId>javax.servlet</groupId>
        <version>2.3</version>
      </dependency>
      <dependency>
        <groupId>xerces</groupId>
        <artifactId>xerces</artifactId>
        <version>2.4.0</version>
      </dependency>
      <dependency>
        <groupId>xml-apis</groupId>
        <artifactId>xml-apis</artifactId>
        <version>1.0.b2</version>
      </dependency>
      <dependency>
        <groupId>xml-resolver</groupId>
        <artifactId>xml-resolver</artifactId>
        <version>1.1</version>
      </dependency>
    </dependencies>
  </dependencyManagement>
</project>
